<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <input id="searchIpt" type="search" placeholder="请输入..." value="" />
    <button id="cancelBtn">取消防抖</button>
  </body>
  <script type="module">
    // import { baseDebounce, _debounce, debounce } from "../JavaScript/debounce.js"
    import { throttle } from "../JavaScript/throttle.js"
    const searchIpt = document.querySelector("#searchIpt")
    const cancelBtn = document.querySelector("#cancelBtn")

    const searchEvent = throttle(
      (event) => {
        console.log("搜索完毕！", Math.floor(Math.random() * 9) + 1)
        console.log("event: ", event)
      },
      2000,
      {
        leading: false,
        trailing: true,
      },
    )

    searchIpt.addEventListener("input", searchEvent)
    cancelBtn.addEventListener("click", () => {
      console.log("cancel")
      searchEvent.cancel()
    })
  </script>
</html>
